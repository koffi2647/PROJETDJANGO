{% load static %}

{% load crispy_forms_tags %}

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajouter un Utilisateur</title>
    <style>
       
    </style>
    <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <link rel="stylesheet" href=""> 
    
</head>
<body>
    <div class="sidebar">
        <img src="image.avif" alt="Logo de l'Établissement">
        <h2>Menu</h2>
        <ul>
            <li><a href="tableauBord.html">Dashboard</a></li>
            <li><a href="ajoutEleve.html">Élèves</a></li>
            <li><a href="ajoutProf.html">Professeurs</a></li>
            <li><a href="ajouteUser.html">Utilisateurs</a></li>
            <li><a href="rapports.html">Rapports</a></li>
        </ul>
        <div class="logout-button" onclick="logout()">Se déconnecter</div>
    </div>

    <div class="main-content">
        <header>
            <h1>Ajouter un Utilisateur</h1>
        </header>

        <div class="form-container">
            <h2>Formulaire d'Ajout</h2>
            <form method="POST" id="add-user-form">
                {% csrf_token %}
                {{ user_form }}
               <!-- <div class="form-group">
                    <label for="pseudo">Pseudo</label>
                    <input type="text" id="pseudo" name="pseudo" required>
                </div>
                <div class="form-group">
                    <label for="password">Mot de Passe</label>
                    <input type="password" id="password" name="password" required>
                </div>
                <div class="form-group">
                    <label for="confirm-password">Confirmer Mot de Passe</label>
                    <input type="password" id="confirm-password" name="confirm-password" required>
                </div> -->
                
                <div class="form-actions">
                    <input type="submit" value="Enregistrer">
                    <input type="reset" value="Annuler">
                    <!-- <button type="submit" class="save-button">Enregistrer</button>
                    <button type="button" class="cancel-button" onclick="cancel()">Annuler</button> -->
                </div>
                <div class="form-message" id="form-message"></div>
            </form>
        </div>
    </div>

    <script>
        document.getElementById('add-user-form').addEventListener('submit', function(event) {
            event.preventDefault();
            
            // Récupération des valeurs du formulaire
            const pseudo = document.getElementById('pseudo').value;
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            
            // Validation simple
            if (!pseudo || !password || !confirmPassword) {
                document.getElementById('form-message').textContent = 'Veuillez remplir tous les champs.';
                return;
            }
            
            if (password !== confirmPassword) {
                document.getElementById('form-message').textContent = 'Les mots de passe ne correspondent pas.';
                return;
            }
            
            // Affichage d'un message de confirmation (vous pouvez remplacer ceci par une vraie action)
            document.getElementById('form-message').textContent = '';
            alert('Utilisateur ajouté avec succès !');
            
            // Réinitialiser le formulaire après l'envoi
            document.getElementById('add-user-form').reset();
        });

        function cancel() {
            if (confirm('Êtes-vous sûr de vouloir annuler ? Les modifications non enregistrées seront perdues.')) {
                document.getElementById('add-user-form').reset();
                document.getElementById('form-message').textContent = '';
            }
        }

        function logout() {
            // Ici, vous pouvez ajouter la logique pour la déconnexion.
            alert('Déconnexion réussie.');
        }
    </script>
</body>
</html>
